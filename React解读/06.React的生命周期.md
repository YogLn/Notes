

# 类组件的生命周期

类组件的生命周期的流程图

![image-20220124142634515](https://gitee.com/yogln/image-mac/raw/master/image-20220124142634515.png)

**红色的生命周期不建议使用**

- render阶段：
  1. mount时：组件首先会经历`constructor`、`getDerivedStateFromProps`、`componnetWillMount`、`render`
  2. update时：组件首先会经历`componentWillReceiveProps`、`getDerivedStateFromProps`、`shouldComponentUpdate`、`render`
  3. error时：会调用`getDerivedStateFromError`
- commit阶段：
  1. mount时：组件会经历`componnetDidMount`
  2. update时：组件会调用`getSnapshotBeforeUpdate`、`componnetDidUpdate`
  3. unMount时：调用`componnetWillUnmount`
  4. error时：调用`componnetDidCatch`

举个例子，图文并茂说明：

![image-20220124150323447](https://gitee.com/yogln/image-mac/raw/master/image-20220124150323447.png)

![image-20220124151230251](https://gitee.com/yogln/image-mac/raw/master/image-20220124151230251.png)

